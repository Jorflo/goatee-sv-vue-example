<template>
  <div :class="classes">
    <h2>Test component to test props and events</h2>
    <span> Prop label: <strong>{{label}}</strong></span>
    <br><br><br>
    <input type="text" :value="label"  @change="action">
    <br><br><br>
    <button v-on:click="$emit('error', 'Error message')">Click to trigger error</button>
    <div v-if="error">
      <p>Only visible if error triggered</p>
    </div>
  </div>
</template>

<script>
export default {
  name: 'test',
  props: {
    label: {
      type: String,
      required: true
    },
    error: {
        type: Boolean,
        default: false,
    }
  },
  computed: {
    classes() {
        return {
            'test': true,
            [`test--error`]: this.error,
        }
    }
  },
  methods: {
    action(e) {
        this.$emit('action', e.target.value)
    }
  }
}
</script>
<style src="./css/Test.css" scoped></style>

